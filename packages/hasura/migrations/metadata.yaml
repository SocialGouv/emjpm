version: 2
tables:
- table:
    schema: public
    name: access_tokens
  object_relationships:
  - name: editors
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: editors
        column_mapping:
          editor_id: id
  select_permissions:
  - role: individuel
    permission:
      columns:
      - id
      - user_id
      - access_token
      - editor_id
      - editor_url
      filter:
        user_id:
          _eq: X-Hasura-User-Id
  - role: prepose
    permission:
      columns:
      - editor_id
      - id
      - user_id
      - access_token
      - editor_url
      filter:
        user_id:
          _eq: X-Hasura-User-Id
  - role: service
    permission:
      columns:
      - editor_id
      - id
      - user_id
      - access_token
      - editor_url
      filter:
        user_id:
          _eq: X-Hasura-User-Id
  delete_permissions:
  - role: individuel
    permission:
      filter:
        user_id:
          _eq: X-Hasura-User-Id
  - role: prepose
    permission:
      filter:
        user_id:
          _eq: X-Hasura-User-Id
  - role: service
    permission:
      filter:
        user_id:
          _eq: X-Hasura-User-Id
- table:
    schema: public
    name: api_logs
  object_relationships:
  - name: editor
    using:
      foreign_key_constraint_on: editor_id
- table:
    schema: public
    name: city
  select_permissions:
  - role: direction
    permission:
      columns:
      - id
      - code_postal
      - ville
      - latitude
      - longitude
      filter: {}
  - role: prepose
    permission:
      columns:
      - id
      - code_postal
      - ville
      - latitude
      - longitude
      filter: {}
  - role: service
    permission:
      columns:
      - id
      - code_postal
      - ville
      - latitude
      - longitude
      filter: {}
  - role: ti
    permission:
      columns:
      - id
      - code_postal
      - ville
      - latitude
      - longitude
      filter: {}
- table:
    schema: public
    name: commentaires
  object_relationships:
  - name: mandataire
    using:
      foreign_key_constraint_on: mandataire_id
  - name: service_antenne
    using:
      foreign_key_constraint_on: antenne_id
  - name: ti
    using:
      foreign_key_constraint_on: ti_id
  insert_permissions:
  - role: ti
    permission:
      check:
        ti:
          magistrats:
            user:
              id:
                _eq: X-Hasura-User-Id
      columns:
      - comment
      - created_at
      - id
      - mandataire_id
      - service_id
      - ti_id
  select_permissions:
  - role: ti
    permission:
      columns:
      - comment
      - created_at
      - id
      - mandataire_id
      - service_id
      - ti_id
      filter:
        ti:
          magistrats:
            user:
              id:
                _eq: X-Hasura-User-Id
  update_permissions:
  - role: ti
    permission:
      columns:
      - comment
      - created_at
      - id
      - mandataire_id
      - service_id
      - ti_id
      filter:
        ti:
          magistrats:
            user:
              id:
                _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: ti
    permission:
      filter:
        ti:
          magistrats:
            user:
              id:
                _eq: X-Hasura-User-Id
- table:
    schema: public
    name: departements
  object_relationships:
  - name: region
    using:
      foreign_key_constraint_on: id_region
  array_relationships:
  - name: mandataires
    using:
      foreign_key_constraint_on:
        column: department_id
        table:
          schema: public
          name: mandataires
  - name: mesures
    using:
      foreign_key_constraint_on:
        column: department_id
        table:
          schema: public
          name: mesures
  - name: services
    using:
      foreign_key_constraint_on:
        column: department_id
        table:
          schema: public
          name: services
  select_permissions:
  - role: anonymous
    permission:
      columns:
      - id
      - id_region
      - code
      - nom
      filter: {}
  - role: direction
    permission:
      columns:
      - id
      - id_region
      - code
      - nom
      filter: {}
  - role: individuel
    permission:
      columns:
      - id
      - id_region
      - code
      - nom
      filter: {}
  - role: prepose
    permission:
      columns:
      - id
      - id_region
      - code
      - nom
      filter: {}
  - role: service
    permission:
      columns:
      - id
      - id_region
      - code
      - nom
      filter: {}
  - role: ti
    permission:
      columns:
      - id
      - id_region
      - code
      - nom
      filter: {}
- table:
    schema: public
    name: direction
  insert_permissions:
  - role: direction
    permission:
      check:
        user_id:
          _eq: X-Hasura-User-Id
      set:
        user_id: x-hasura-User-Id
      columns:
      - id
      - region_id
      - user_id
      - department_id
  select_permissions:
  - role: direction
    permission:
      columns:
      - id
      - region_id
      - user_id
      - department_id
      filter:
        user_id:
          _eq: X-Hasura-User-Id
  update_permissions:
  - role: direction
    permission:
      columns:
      - id
      - region_id
      - user_id
      - department_id
      filter:
        user_id:
          _eq: X-Hasura-User-Id
      check: null
      set:
        user_id: x-hasura-User-Id
- table:
    schema: public
    name: editor_token_requests
  insert_permissions:
  - role: anonymous
    permission:
      check: {}
      columns:
      - email
      - name
  event_triggers:
  - name: token-request
    definition:
      enable_manual: false
      insert:
        columns: '*'
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook_from_env: WEB_HOOK_URL_TOKEN_REQUEST
    headers:
    - name: HASURA_WEB_HOOK_SECRET
      value_from_env: HASURA_WEB_HOOK_SECRET
- table:
    schema: public
    name: editors
  select_permissions:
  - role: individuel
    permission:
      columns:
      - id
      - api_token
      - name
      filter: {}
  - role: prepose
    permission:
      columns:
      - id
      - api_token
      - name
      filter: {}
  - role: service
    permission:
      columns:
      - id
      - api_token
      - name
      filter: {}
- table:
    schema: public
    name: enquete_reponses
  object_relationships:
  - name: enquete
    using:
      foreign_key_constraint_on: enquete_id
  - name: enquete_reponses_activite
    using:
      foreign_key_constraint_on: enquete_reponses_activite_id
  - name: enquete_reponses_agrements_formation
    using:
      foreign_key_constraint_on: enquete_reponses_agrements_formations_id
  - name: enquete_reponses_informations_mandataire
    using:
      foreign_key_constraint_on: enquete_reponses_informations_mandataire_id
  - name: enquete_reponses_population
    using:
      foreign_key_constraint_on: enquete_reponses_populations_id
  - name: enquete_reponses_prestations_sociale
    using:
      foreign_key_constraint_on: enquete_reponses_prestations_sociale_id
  - name: enquete_service
    using:
      foreign_key_constraint_on: service_id
  - name: mandataire
    using:
      foreign_key_constraint_on: mandataire_id
  insert_permissions:
  - role: individuel
    permission:
      check: {}
      columns:
      - id
      - created_at
      - submitted_at
      - enquete_id
      - mandataire_id
      - service_id
      - enquete_reponses_informations_mandataire_id
      - enquete_reponses_prestations_sociale_id
      - enquete_reponses_agrements_formations_id
      - enquete_reponses_activite_id
      - enquete_reponses_populations_id
      backend_only: false
  select_permissions:
  - role: direction
    permission:
      columns:
      - id
      - created_at
      - submitted_at
      - enquete_id
      - mandataire_id
      - service_id
      - enquete_reponses_informations_mandataire_id
      - enquete_reponses_prestations_sociale_id
      - enquete_reponses_agrements_formations_id
      - enquete_reponses_activite_id
      - enquete_reponses_populations_id
      filter: {}
  - role: individuel
    permission:
      columns:
      - enquete_id
      - enquete_reponses_activite_id
      - enquete_reponses_agrements_formations_id
      - enquete_reponses_informations_mandataire_id
      - enquete_reponses_populations_id
      - enquete_reponses_prestations_sociale_id
      - id
      - mandataire_id
      - service_id
      - created_at
      - submitted_at
      filter:
        mandataire:
          user_id:
            _eq: X-Hasura-User-Id
  update_permissions:
  - role: individuel
    permission:
      columns:
      - enquete_id
      - enquete_reponses_activite_id
      - enquete_reponses_agrements_formations_id
      - enquete_reponses_informations_mandataire_id
      - enquete_reponses_populations_id
      - enquete_reponses_prestations_sociale_id
      - id
      - mandataire_id
      - service_id
      - created_at
      - submitted_at
      filter:
        mandataire:
          user_id:
            _eq: X-Hasura-User-Id
      check: null
- table:
    schema: public
    name: enquete_reponses_activite
  array_relationships:
  - name: enquete_reponses
    using:
      foreign_key_constraint_on:
        column: enquete_reponses_activite_id
        table:
          schema: public
          name: enquete_reponses
  insert_permissions:
  - role: individuel
    permission:
      check: {}
      columns:
      - id
      - created_at
      - last_update
      - curatelle_renforcee_etablissement_debut_annee
      - curatelle_renforcee_etablissement_fin_annee
      - curatelle_renforcee_domicile_debut_annee
      - curatelle_renforcee_domicile_fin_annee
      - curatelle_simple_etablissement_debut_annee
      - curatelle_simple_etablissement_fin_annee
      - curatelle_simple_domicile_debut_annee
      - curatelle_simple_domicile_fin_annee
      - tutelle_etablissement_debut_annee
      - tutelle_etablissement_fin_annee
      - tutelle_domicile_debut_annee
      - tutelle_domicile_fin_annee
      - accompagnement_judiciaire_etablissement_debut_annee
      - accompagnement_judiciaire_etablissement_fin_annee
      - accompagnement_judiciaire_domicile_debut_annee
      - accompagnement_judiciaire_domicile_fin_annee
      - curatelle_biens_etablissement_debut_annee
      - curatelle_biens_etablissement_fin_annee
      - curatelle_biens_domicile_debut_annee
      - curatelle_biens_domicile_fin_annee
      - curatelle_personne_etablissement_debut_annee
      - curatelle_personne_etablissement_fin_annee
      - curatelle_personne_domicile_debut_annee
      - curatelle_personne_domicile_fin_annee
      - revisions_main_levee
      - revisions_masp
      - revisions_reconduction
      - revisions_changement
      - revisions_autre
      - sorties_main_levee
      - sorties_deces
      - sorties_masp
      backend_only: false
  select_permissions:
  - role: individuel
    permission:
      columns:
      - accompagnement_judiciaire_domicile_debut_annee
      - accompagnement_judiciaire_domicile_fin_annee
      - accompagnement_judiciaire_etablissement_debut_annee
      - accompagnement_judiciaire_etablissement_fin_annee
      - curatelle_biens_domicile_debut_annee
      - curatelle_biens_domicile_fin_annee
      - curatelle_biens_etablissement_debut_annee
      - curatelle_biens_etablissement_fin_annee
      - curatelle_personne_domicile_debut_annee
      - curatelle_personne_domicile_fin_annee
      - curatelle_personne_etablissement_debut_annee
      - curatelle_personne_etablissement_fin_annee
      - curatelle_renforcee_domicile_debut_annee
      - curatelle_renforcee_domicile_fin_annee
      - curatelle_renforcee_etablissement_debut_annee
      - curatelle_renforcee_etablissement_fin_annee
      - curatelle_simple_domicile_debut_annee
      - curatelle_simple_domicile_fin_annee
      - curatelle_simple_etablissement_debut_annee
      - curatelle_simple_etablissement_fin_annee
      - id
      - revisions_autre
      - revisions_changement
      - revisions_main_levee
      - revisions_masp
      - revisions_reconduction
      - sorties_deces
      - sorties_main_levee
      - sorties_masp
      - tutelle_domicile_debut_annee
      - tutelle_domicile_fin_annee
      - tutelle_etablissement_debut_annee
      - tutelle_etablissement_fin_annee
      - created_at
      - last_update
      filter:
        enquete_reponses:
          mandataire:
            user_id:
              _eq: X-Hasura-User-Id
  update_permissions:
  - role: individuel
    permission:
      columns:
      - accompagnement_judiciaire_domicile_debut_annee
      - accompagnement_judiciaire_domicile_fin_annee
      - accompagnement_judiciaire_etablissement_debut_annee
      - accompagnement_judiciaire_etablissement_fin_annee
      - curatelle_biens_domicile_debut_annee
      - curatelle_biens_domicile_fin_annee
      - curatelle_biens_etablissement_debut_annee
      - curatelle_biens_etablissement_fin_annee
      - curatelle_personne_domicile_debut_annee
      - curatelle_personne_domicile_fin_annee
      - curatelle_personne_etablissement_debut_annee
      - curatelle_personne_etablissement_fin_annee
      - curatelle_renforcee_domicile_debut_annee
      - curatelle_renforcee_domicile_fin_annee
      - curatelle_renforcee_etablissement_debut_annee
      - curatelle_renforcee_etablissement_fin_annee
      - curatelle_simple_domicile_debut_annee
      - curatelle_simple_domicile_fin_annee
      - curatelle_simple_etablissement_debut_annee
      - curatelle_simple_etablissement_fin_annee
      - id
      - revisions_autre
      - revisions_changement
      - revisions_main_levee
      - revisions_masp
      - revisions_reconduction
      - sorties_deces
      - sorties_main_levee
      - sorties_masp
      - tutelle_domicile_debut_annee
      - tutelle_domicile_fin_annee
      - tutelle_etablissement_debut_annee
      - tutelle_etablissement_fin_annee
      - created_at
      - last_update
      filter:
        enquete_reponses:
          mandataire:
            user_id:
              _eq: X-Hasura-User-Id
      check: null
- table:
    schema: public
    name: enquete_reponses_agrements_formations
  array_relationships:
  - name: enquete_reponses
    using:
      foreign_key_constraint_on:
        column: enquete_reponses_agrements_formations_id
        table:
          schema: public
          name: enquete_reponses
  insert_permissions:
  - role: individuel
    permission:
      check: {}
      columns:
      - id
      - created_at
      - last_update
      - annee_agrement
      - annee_debut_activite
      - cnc_maj_heure_formation
      - cnc_mjpm_heure_formation
      - cnc_maj_annee_obtention
      - cnc_dpf_annee_obtention
      - cnc_dpf_heure_formation
      - cnc_mjpm_annee_obtention
      - cumul_delegue_service
      - cumul_delegue_service_etp
      - cumul_prepose
      - cumul_prepose_etp
      - debut_activite_avant_2009
      - niveau_qualification
      - niveau_qualification_secretaire_spe
      - secretaire_specialise
      - nb_departements
      backend_only: false
  select_permissions:
  - role: individuel
    permission:
      columns:
      - cumul_delegue_service
      - cumul_prepose
      - debut_activite_avant_2009
      - secretaire_specialise
      - annee_agrement
      - annee_debut_activite
      - cnc_dpf_annee_obtention
      - cnc_dpf_heure_formation
      - cnc_maj_annee_obtention
      - cnc_maj_heure_formation
      - cnc_mjpm_annee_obtention
      - cnc_mjpm_heure_formation
      - id
      - nb_departements
      - niveau_qualification
      - niveau_qualification_secretaire_spe
      - created_at
      - last_update
      - cumul_delegue_service_etp
      - cumul_prepose_etp
      filter:
        enquete_reponses:
          mandataire:
            user_id:
              _eq: X-Hasura-User-Id
  update_permissions:
  - role: individuel
    permission:
      columns:
      - cumul_delegue_service
      - cumul_prepose
      - debut_activite_avant_2009
      - secretaire_specialise
      - annee_agrement
      - annee_debut_activite
      - cnc_dpf_annee_obtention
      - cnc_dpf_heure_formation
      - cnc_maj_annee_obtention
      - cnc_maj_heure_formation
      - cnc_mjpm_annee_obtention
      - cnc_mjpm_heure_formation
      - id
      - nb_departements
      - niveau_qualification
      - niveau_qualification_secretaire_spe
      - created_at
      - last_update
      - cumul_delegue_service_etp
      - cumul_prepose_etp
      filter:
        enquete_reponses:
          mandataire:
            user_id:
              _eq: X-Hasura-User-Id
      check: null
- table:
    schema: public
    name: enquete_reponses_informations_mandataire
  array_relationships:
  - name: enquete_reponses
    using:
      foreign_key_constraint_on:
        column: enquete_reponses_informations_mandataire_id
        table:
          schema: public
          name: enquete_reponses
  insert_permissions:
  - role: individuel
    permission:
      check: {}
      columns:
      - benevole
      - exerce_secretaires_specialises
      - exerce_seul_activite
      - local_professionnel
      - id
      - created_at
      - last_update
      - anciennete
      - departement
      - estimation_etp
      - forme_juridique
      - nom
      - region
      - secretaire_specialise_etp
      - sexe
      - tranche_age
      backend_only: false
  select_permissions:
  - role: direction
    permission:
      columns:
      - benevole
      - exerce_secretaires_specialises
      - exerce_seul_activite
      - local_professionnel
      - id
      - created_at
      - last_update
      - anciennete
      - departement
      - estimation_etp
      - forme_juridique
      - nom
      - region
      - secretaire_specialise_etp
      - sexe
      - tranche_age
      filter: {}
  - role: individuel
    permission:
      columns:
      - id
      - created_at
      - last_update
      - benevole
      - forme_juridique
      - sexe
      - anciennete
      - estimation_etp
      - secretaire_specialise_etp
      - local_professionnel
      - departement
      - region
      - nom
      - exerce_seul_activite
      - exerce_secretaires_specialises
      - tranche_age
      filter:
        enquete_reponses:
          mandataire:
            user_id:
              _eq: X-Hasura-User-Id
  update_permissions:
  - role: individuel
    permission:
      columns:
      - benevole
      - exerce_secretaires_specialises
      - exerce_seul_activite
      - local_professionnel
      - id
      - created_at
      - last_update
      - anciennete
      - departement
      - estimation_etp
      - forme_juridique
      - nom
      - region
      - secretaire_specialise_etp
      - sexe
      - tranche_age
      filter:
        enquete_reponses:
          mandataire:
            user_id:
              _eq: X-Hasura-User-Id
      check: null
- table:
    schema: public
    name: enquete_reponses_populations
  array_relationships:
  - name: enquete_reponses
    using:
      foreign_key_constraint_on:
        column: enquete_reponses_populations_id
        table:
          schema: public
          name: enquete_reponses
  insert_permissions:
  - role: individuel
    permission:
      check: {}
      columns:
      - id
      - created_at
      - last_update
      - tutelle_age_inf_25_ans_homme
      - tutelle_age_inf_25_ans_femme
      - tutelle_age_25_39_ans_homme
      - tutelle_age_25_39_ans_femme
      - tutelle_age_40_59_ans_homme
      - tutelle_age_40_59_ans_femme
      - tutelle_age_60_74_ans_homme
      - tutelle_age_60_74_ans_femme
      - tutelle_age_sup_75_ans_homme
      - tutelle_age_sup_75_ans_femme
      - curatelle_age_inf_25_ans_homme
      - curatelle_age_inf_25_ans_femme
      - curatelle_age_25_39_ans_homme
      - curatelle_age_25_39_ans_femme
      - curatelle_age_40_59_ans_homme
      - curatelle_age_40_59_ans_femme
      - curatelle_age_60_74_ans_homme
      - curatelle_age_60_74_ans_femme
      - curatelle_age_sup_75_ans_homme
      - curatelle_age_sup_75_ans_femme
      - maj_age_inf_25_ans_homme
      - maj_age_inf_25_ans_femme
      - maj_age_25_39_ans_homme
      - maj_age_25_39_ans_femme
      - maj_age_40_59_ans_homme
      - maj_age_40_59_ans_femme
      - maj_age_60_74_ans_homme
      - maj_age_60_74_ans_femme
      - maj_age_sup_75_ans_homme
      - maj_age_sup_75_ans_femme
      - sauvegarde_justice_age_inf_25_ans_homme
      - sauvegarde_justice_age_inf_25_ans_femme
      - sauvegarde_justice_age_25_39_ans_homme
      - sauvegarde_justice_age_25_39_ans_femme
      - sauvegarde_justice_age_40_59_ans_homme
      - sauvegarde_justice_age_40_59_ans_femme
      - sauvegarde_justice_age_60_74_ans_homme
      - sauvegarde_justice_age_60_74_ans_femme
      - sauvegarde_justice_age_sup_75_ans_homme
      - sauvegarde_justice_age_sup_75_ans_femme
      - autre_age_inf_25_ans_homme
      - autre_age_inf_25_ans_femme
      - autre_age_25_39_ans_homme
      - autre_age_25_39_ans_femme
      - autre_age_40_59_ans_homme
      - autre_age_40_59_ans_femme
      - autre_age_60_74_ans_homme
      - autre_age_60_74_ans_femme
      - autre_age_sup_75_ans_homme
      - autre_age_sup_75_ans_femme
      - tutelle_anciennete_inf_1_an
      - tutelle_anciennete_1_3_ans
      - tutelle_anciennete_3_5_ans
      - tutelle_anciennete_5_10_ans
      - tutelle_anciennete_sup_10_ans
      - curatelle_anciennete_inf_1_an
      - curatelle_anciennete_1_3_ans
      - curatelle_anciennete_3_5_ans
      - curatelle_anciennete_5_10_ans
      - curatelle_anciennete_sup_10_ans
      - maj_anciennete_inf_1_an
      - maj_anciennete_1_3_ans
      - maj_anciennete_3_5_ans
      - maj_anciennete_5_10_ans
      - maj_anciennete_sup_10_ans
      - sauvegarde_justice_anciennete_inf_1_an
      - sauvegarde_justice_anciennete_1_3_ans
      - sauvegarde_justice_anciennete_3_5_ans
      - sauvegarde_justice_anciennete_5_10_ans
      - sauvegarde_justice_anciennete_sup_10_ans
      - autre_anciennete_inf_1_an
      - autre_justice_anciennete_1_3_ans
      - autre_justice_anciennete_3_5_ans
      - autre_justice_anciennete_5_10_ans
      - autre_justice_anciennete_sup_10_ans
      - tutelle_etablissement_personne_handicapee
      - tutelle_service_personne_handicapee
      - tutelle_ehpad
      - tutelle_autre_etablissement_personne_agee
      - tutelle_chrs
      - tutelle_service_hospitalier_soins_longue_duree
      - tutelle_service_psychiatrique
      - tutelle_autre_service
      - curatelle_etablissement_personne_handicapee
      - curatelle_service_personne_handicapee
      - curatelle_ehpad
      - curatelle_autre_etablissement_personne_agee
      - curatelle_chrs
      - curatelle_service_hospitalier_soins_longue_duree
      - curatelle_service_psychiatrique
      - curatelle_autre_service
      - maj_etablissement_personne_handicapee
      - maj_service_personne_handicapee
      - maj_ehpad
      - maj_autre_etablissement_personne_agee
      - maj_chrs
      - maj_service_hospitalier_soins_longue_duree
      - maj_service_psychiatrique
      - maj_autre_service
      - sauvegarde_justice_etablissement_personne_handicapee
      - sauvegarde_justice_service_personne_handicapee
      - sauvegarde_justice_ehpad
      - sauvegarde_justice_autre_etablissement_personne_agee
      - sauvegarde_justice_chrs
      - sauvegarde_justice_service_hospitalier_soins_longue_duree
      - sauvegarde_justice_service_psychiatrique
      - sauvegarde_justice_autre_service
      backend_only: false
  select_permissions:
  - role: direction
    permission:
      columns:
      - autre_age_25_39_ans_femme
      - autre_age_25_39_ans_homme
      - autre_age_40_59_ans_femme
      - autre_age_40_59_ans_homme
      - autre_age_60_74_ans_femme
      - autre_age_60_74_ans_homme
      - autre_age_inf_25_ans_femme
      - autre_age_inf_25_ans_homme
      - autre_age_sup_75_ans_femme
      - autre_age_sup_75_ans_homme
      - autre_anciennete_inf_1_an
      - autre_justice_anciennete_1_3_ans
      - autre_justice_anciennete_3_5_ans
      - autre_justice_anciennete_5_10_ans
      - autre_justice_anciennete_sup_10_ans
      - curatelle_age_25_39_ans_femme
      - curatelle_age_25_39_ans_homme
      - curatelle_age_40_59_ans_femme
      - curatelle_age_40_59_ans_homme
      - curatelle_age_60_74_ans_femme
      - curatelle_age_60_74_ans_homme
      - curatelle_age_inf_25_ans_femme
      - curatelle_age_inf_25_ans_homme
      - curatelle_age_sup_75_ans_femme
      - curatelle_age_sup_75_ans_homme
      - curatelle_anciennete_1_3_ans
      - curatelle_anciennete_3_5_ans
      - curatelle_anciennete_5_10_ans
      - curatelle_anciennete_inf_1_an
      - curatelle_anciennete_sup_10_ans
      - curatelle_autre_etablissement_personne_agee
      - curatelle_autre_service
      - curatelle_chrs
      - curatelle_ehpad
      - curatelle_etablissement_personne_handicapee
      - curatelle_service_hospitalier_soins_longue_duree
      - curatelle_service_personne_handicapee
      - curatelle_service_psychiatrique
      - id
      - maj_age_25_39_ans_femme
      - maj_age_25_39_ans_homme
      - maj_age_40_59_ans_femme
      - maj_age_40_59_ans_homme
      - maj_age_60_74_ans_femme
      - maj_age_60_74_ans_homme
      - maj_age_inf_25_ans_femme
      - maj_age_inf_25_ans_homme
      - maj_age_sup_75_ans_femme
      - maj_age_sup_75_ans_homme
      - maj_anciennete_1_3_ans
      - maj_anciennete_3_5_ans
      - maj_anciennete_5_10_ans
      - maj_anciennete_inf_1_an
      - maj_anciennete_sup_10_ans
      - maj_autre_etablissement_personne_agee
      - maj_autre_service
      - maj_chrs
      - maj_ehpad
      - maj_etablissement_personne_handicapee
      - maj_service_hospitalier_soins_longue_duree
      - maj_service_personne_handicapee
      - maj_service_psychiatrique
      - sauvegarde_justice_age_25_39_ans_femme
      - sauvegarde_justice_age_25_39_ans_homme
      - sauvegarde_justice_age_40_59_ans_femme
      - sauvegarde_justice_age_40_59_ans_homme
      - sauvegarde_justice_age_60_74_ans_femme
      - sauvegarde_justice_age_60_74_ans_homme
      - sauvegarde_justice_age_inf_25_ans_femme
      - sauvegarde_justice_age_inf_25_ans_homme
      - sauvegarde_justice_age_sup_75_ans_femme
      - sauvegarde_justice_age_sup_75_ans_homme
      - sauvegarde_justice_anciennete_1_3_ans
      - sauvegarde_justice_anciennete_3_5_ans
      - sauvegarde_justice_anciennete_5_10_ans
      - sauvegarde_justice_anciennete_inf_1_an
      - sauvegarde_justice_anciennete_sup_10_ans
      - sauvegarde_justice_autre_etablissement_personne_agee
      - sauvegarde_justice_autre_service
      - sauvegarde_justice_chrs
      - sauvegarde_justice_ehpad
      - sauvegarde_justice_etablissement_personne_handicapee
      - sauvegarde_justice_service_hospitalier_soins_longue_duree
      - sauvegarde_justice_service_personne_handicapee
      - sauvegarde_justice_service_psychiatrique
      - tutelle_age_25_39_ans_femme
      - tutelle_age_25_39_ans_homme
      - tutelle_age_40_59_ans_femme
      - tutelle_age_40_59_ans_homme
      - tutelle_age_60_74_ans_femme
      - tutelle_age_60_74_ans_homme
      - tutelle_age_inf_25_ans_femme
      - tutelle_age_inf_25_ans_homme
      - tutelle_age_sup_75_ans_femme
      - tutelle_age_sup_75_ans_homme
      - tutelle_anciennete_1_3_ans
      - tutelle_anciennete_3_5_ans
      - tutelle_anciennete_5_10_ans
      - tutelle_anciennete_inf_1_an
      - tutelle_anciennete_sup_10_ans
      - tutelle_autre_etablissement_personne_agee
      - tutelle_autre_service
      - tutelle_chrs
      - tutelle_ehpad
      - tutelle_etablissement_personne_handicapee
      - tutelle_service_hospitalier_soins_longue_duree
      - tutelle_service_personne_handicapee
      - tutelle_service_psychiatrique
      - created_at
      - last_update
      filter: {}
  - role: individuel
    permission:
      columns:
      - id
      - created_at
      - last_update
      - tutelle_age_inf_25_ans_homme
      - tutelle_age_inf_25_ans_femme
      - tutelle_age_25_39_ans_homme
      - tutelle_age_25_39_ans_femme
      - tutelle_age_40_59_ans_homme
      - tutelle_age_40_59_ans_femme
      - tutelle_age_60_74_ans_homme
      - tutelle_age_60_74_ans_femme
      - tutelle_age_sup_75_ans_homme
      - tutelle_age_sup_75_ans_femme
      - curatelle_age_inf_25_ans_homme
      - curatelle_age_inf_25_ans_femme
      - curatelle_age_25_39_ans_homme
      - curatelle_age_25_39_ans_femme
      - curatelle_age_40_59_ans_homme
      - curatelle_age_40_59_ans_femme
      - curatelle_age_60_74_ans_homme
      - curatelle_age_60_74_ans_femme
      - curatelle_age_sup_75_ans_homme
      - curatelle_age_sup_75_ans_femme
      - maj_age_inf_25_ans_homme
      - maj_age_inf_25_ans_femme
      - maj_age_25_39_ans_homme
      - maj_age_25_39_ans_femme
      - maj_age_40_59_ans_homme
      - maj_age_40_59_ans_femme
      - maj_age_60_74_ans_homme
      - maj_age_60_74_ans_femme
      - maj_age_sup_75_ans_homme
      - maj_age_sup_75_ans_femme
      - sauvegarde_justice_age_inf_25_ans_homme
      - sauvegarde_justice_age_inf_25_ans_femme
      - sauvegarde_justice_age_25_39_ans_homme
      - sauvegarde_justice_age_25_39_ans_femme
      - sauvegarde_justice_age_40_59_ans_homme
      - sauvegarde_justice_age_40_59_ans_femme
      - sauvegarde_justice_age_60_74_ans_homme
      - sauvegarde_justice_age_60_74_ans_femme
      - sauvegarde_justice_age_sup_75_ans_homme
      - sauvegarde_justice_age_sup_75_ans_femme
      - autre_age_inf_25_ans_homme
      - autre_age_inf_25_ans_femme
      - autre_age_25_39_ans_homme
      - autre_age_25_39_ans_femme
      - autre_age_40_59_ans_homme
      - autre_age_40_59_ans_femme
      - autre_age_60_74_ans_homme
      - autre_age_60_74_ans_femme
      - autre_age_sup_75_ans_homme
      - autre_age_sup_75_ans_femme
      - tutelle_anciennete_inf_1_an
      - tutelle_anciennete_1_3_ans
      - tutelle_anciennete_3_5_ans
      - tutelle_anciennete_5_10_ans
      - tutelle_anciennete_sup_10_ans
      - curatelle_anciennete_inf_1_an
      - curatelle_anciennete_1_3_ans
      - curatelle_anciennete_3_5_ans
      - curatelle_anciennete_5_10_ans
      - curatelle_anciennete_sup_10_ans
      - maj_anciennete_inf_1_an
      - maj_anciennete_1_3_ans
      - maj_anciennete_3_5_ans
      - maj_anciennete_5_10_ans
      - maj_anciennete_sup_10_ans
      - sauvegarde_justice_anciennete_inf_1_an
      - sauvegarde_justice_anciennete_1_3_ans
      - sauvegarde_justice_anciennete_3_5_ans
      - sauvegarde_justice_anciennete_5_10_ans
      - sauvegarde_justice_anciennete_sup_10_ans
      - autre_anciennete_inf_1_an
      - autre_justice_anciennete_1_3_ans
      - autre_justice_anciennete_3_5_ans
      - autre_justice_anciennete_5_10_ans
      - autre_justice_anciennete_sup_10_ans
      - tutelle_etablissement_personne_handicapee
      - tutelle_service_personne_handicapee
      - tutelle_ehpad
      - tutelle_autre_etablissement_personne_agee
      - tutelle_chrs
      - tutelle_service_hospitalier_soins_longue_duree
      - tutelle_service_psychiatrique
      - tutelle_autre_service
      - curatelle_etablissement_personne_handicapee
      - curatelle_service_personne_handicapee
      - curatelle_ehpad
      - curatelle_autre_etablissement_personne_agee
      - curatelle_chrs
      - curatelle_service_hospitalier_soins_longue_duree
      - curatelle_service_psychiatrique
      - curatelle_autre_service
      - maj_etablissement_personne_handicapee
      - maj_service_personne_handicapee
      - maj_ehpad
      - maj_autre_etablissement_personne_agee
      - maj_chrs
      - maj_service_hospitalier_soins_longue_duree
      - maj_service_psychiatrique
      - maj_autre_service
      - sauvegarde_justice_etablissement_personne_handicapee
      - sauvegarde_justice_service_personne_handicapee
      - sauvegarde_justice_ehpad
      - sauvegarde_justice_autre_etablissement_personne_agee
      - sauvegarde_justice_chrs
      - sauvegarde_justice_service_hospitalier_soins_longue_duree
      - sauvegarde_justice_service_psychiatrique
      - sauvegarde_justice_autre_service
      filter:
        enquete_reponses:
          mandataire:
            user_id:
              _eq: X-Hasura-User-Id
  update_permissions:
  - role: individuel
    permission:
      columns:
      - autre_age_25_39_ans_femme
      - autre_age_25_39_ans_homme
      - autre_age_40_59_ans_femme
      - autre_age_40_59_ans_homme
      - autre_age_60_74_ans_femme
      - autre_age_60_74_ans_homme
      - autre_age_inf_25_ans_femme
      - autre_age_inf_25_ans_homme
      - autre_age_sup_75_ans_femme
      - autre_age_sup_75_ans_homme
      - autre_anciennete_inf_1_an
      - autre_justice_anciennete_1_3_ans
      - autre_justice_anciennete_3_5_ans
      - autre_justice_anciennete_5_10_ans
      - autre_justice_anciennete_sup_10_ans
      - curatelle_age_25_39_ans_femme
      - curatelle_age_25_39_ans_homme
      - curatelle_age_40_59_ans_femme
      - curatelle_age_40_59_ans_homme
      - curatelle_age_60_74_ans_femme
      - curatelle_age_60_74_ans_homme
      - curatelle_age_inf_25_ans_femme
      - curatelle_age_inf_25_ans_homme
      - curatelle_age_sup_75_ans_femme
      - curatelle_age_sup_75_ans_homme
      - curatelle_anciennete_1_3_ans
      - curatelle_anciennete_3_5_ans
      - curatelle_anciennete_5_10_ans
      - curatelle_anciennete_inf_1_an
      - curatelle_anciennete_sup_10_ans
      - curatelle_autre_etablissement_personne_agee
      - curatelle_autre_service
      - curatelle_chrs
      - curatelle_ehpad
      - curatelle_etablissement_personne_handicapee
      - curatelle_service_hospitalier_soins_longue_duree
      - curatelle_service_personne_handicapee
      - curatelle_service_psychiatrique
      - id
      - maj_age_25_39_ans_femme
      - maj_age_25_39_ans_homme
      - maj_age_40_59_ans_femme
      - maj_age_40_59_ans_homme
      - maj_age_60_74_ans_femme
      - maj_age_60_74_ans_homme
      - maj_age_inf_25_ans_femme
      - maj_age_inf_25_ans_homme
      - maj_age_sup_75_ans_femme
      - maj_age_sup_75_ans_homme
      - maj_anciennete_1_3_ans
      - maj_anciennete_3_5_ans
      - maj_anciennete_5_10_ans
      - maj_anciennete_inf_1_an
      - maj_anciennete_sup_10_ans
      - maj_autre_etablissement_personne_agee
      - maj_autre_service
      - maj_chrs
      - maj_ehpad
      - maj_etablissement_personne_handicapee
      - maj_service_hospitalier_soins_longue_duree
      - maj_service_personne_handicapee
      - maj_service_psychiatrique
      - sauvegarde_justice_age_25_39_ans_femme
      - sauvegarde_justice_age_25_39_ans_homme
      - sauvegarde_justice_age_40_59_ans_femme
      - sauvegarde_justice_age_40_59_ans_homme
      - sauvegarde_justice_age_60_74_ans_femme
      - sauvegarde_justice_age_60_74_ans_homme
      - sauvegarde_justice_age_inf_25_ans_femme
      - sauvegarde_justice_age_inf_25_ans_homme
      - sauvegarde_justice_age_sup_75_ans_femme
      - sauvegarde_justice_age_sup_75_ans_homme
      - sauvegarde_justice_anciennete_1_3_ans
      - sauvegarde_justice_anciennete_3_5_ans
      - sauvegarde_justice_anciennete_5_10_ans
      - sauvegarde_justice_anciennete_inf_1_an
      - sauvegarde_justice_anciennete_sup_10_ans
      - sauvegarde_justice_autre_etablissement_personne_agee
      - sauvegarde_justice_autre_service
      - sauvegarde_justice_chrs
      - sauvegarde_justice_ehpad
      - sauvegarde_justice_etablissement_personne_handicapee
      - sauvegarde_justice_service_hospitalier_soins_longue_duree
      - sauvegarde_justice_service_personne_handicapee
      - sauvegarde_justice_service_psychiatrique
      - tutelle_age_25_39_ans_femme
      - tutelle_age_25_39_ans_homme
      - tutelle_age_40_59_ans_femme
      - tutelle_age_40_59_ans_homme
      - tutelle_age_60_74_ans_femme
      - tutelle_age_60_74_ans_homme
      - tutelle_age_inf_25_ans_femme
      - tutelle_age_inf_25_ans_homme
      - tutelle_age_sup_75_ans_femme
      - tutelle_age_sup_75_ans_homme
      - tutelle_anciennete_1_3_ans
      - tutelle_anciennete_3_5_ans
      - tutelle_anciennete_5_10_ans
      - tutelle_anciennete_inf_1_an
      - tutelle_anciennete_sup_10_ans
      - tutelle_autre_etablissement_personne_agee
      - tutelle_autre_service
      - tutelle_chrs
      - tutelle_ehpad
      - tutelle_etablissement_personne_handicapee
      - tutelle_service_hospitalier_soins_longue_duree
      - tutelle_service_personne_handicapee
      - tutelle_service_psychiatrique
      - created_at
      - last_update
      filter:
        enquete_reponses:
          mandataire:
            user_id:
              _eq: X-Hasura-User-Id
      check: null
- table:
    schema: public
    name: enquete_reponses_prestations_sociales
  array_relationships:
  - name: enquete_reponses
    using:
      foreign_key_constraint_on:
        column: enquete_reponses_prestations_sociale_id
        table:
          schema: public
          name: enquete_reponses
  insert_permissions:
  - role: individuel
    permission:
      check: {}
      columns:
      - aah
      - als_apl
      - apa
      - asi
      - aspa
      - id
      - pch
      - rsa
      - created_at
      - last_update
      backend_only: false
  select_permissions:
  - role: direction
    permission:
      columns:
      - id
      - created_at
      - last_update
      - aah
      - pch
      - asi
      - rsa
      - als_apl
      - aspa
      - apa
      filter: {}
  - role: individuel
    permission:
      columns:
      - aah
      - als_apl
      - apa
      - asi
      - aspa
      - id
      - pch
      - rsa
      - created_at
      - last_update
      filter:
        enquete_reponses:
          mandataire:
            user_id:
              _eq: X-Hasura-User-Id
  update_permissions:
  - role: individuel
    permission:
      columns:
      - aah
      - als_apl
      - apa
      - asi
      - aspa
      - id
      - pch
      - rsa
      - created_at
      - last_update
      filter:
        enquete_reponses:
          mandataire:
            user_id:
              _eq: X-Hasura-User-Id
      check: null
- table:
    schema: public
    name: enquete_services
  object_relationships:
  - name: service
    using:
      foreign_key_constraint_on: service_id
- table:
    schema: public
    name: enquetes
  array_relationships:
  - name: enquete_reponses
    using:
      foreign_key_constraint_on:
        column: enquete_id
        table:
          schema: public
          name: enquete_reponses
  insert_permissions:
  - role: direction
    permission:
      check: {}
      columns:
      - id
      - created_at
      - date_fin
      - annee
      - status
  select_permissions:
  - role: direction
    permission:
      columns:
      - id
      - created_at
      - annee
      - status
      - date_fin
      filter: {}
  - role: individuel
    permission:
      columns:
      - annee
      - created_at
      - date_fin
      - id
      - status
      filter: {}
  - role: prepose
    permission:
      columns:
      - id
      - created_at
      - annee
      - status
      - date_fin
      filter: {}
  update_permissions:
  - role: direction
    permission:
      columns:
      - id
      - created_at
      - date_fin
      - annee
      - status
      filter: {}
      check: null
- table:
    schema: public
    name: etablissements
  array_relationships:
  - name: mandataire_etablissements
    using:
      foreign_key_constraint_on:
        column: etablissement_id
        table:
          schema: public
          name: mandataire_etablissements
  - name: mesures
    using:
      foreign_key_constraint_on:
        column: etablissement_id
        table:
          schema: public
          name: mesures
  select_permissions:
  - role: direction
    permission:
      columns:
      - id
      - id_finess
      - nom
      - adresse
      - code_postal
      - ville
      - tel
      - fax
      filter: {}
  - role: prepose
    permission:
      columns:
      - latitude
      - longitude
      - id
      - adresse
      - code_postal
      - fax
      - id_finess
      - nom
      - tel
      - ville
      filter: {}
  - role: service
    permission:
      columns:
      - id
      - id_finess
      - nom
      - adresse
      - code_postal
      - ville
      - tel
      - fax
      - latitude
      - longitude
      filter: {}
  - role: ti
    permission:
      columns:
      - latitude
      - longitude
      - id
      - adresse
      - code_postal
      - fax
      - id_finess
      - nom
      - tel
      - ville
      filter: {}
- table:
    schema: public
    name: geolocalisation_code_postal
  select_permissions:
  - role: anonymous
    permission:
      columns:
      - cities
      - code_postal
      - id
      - latitude
      - longitude
      filter: {}
  - role: direction
    permission:
      columns:
      - id
      - code_postal
      - latitude
      - longitude
      - cities
      filter: {}
  - role: individuel
    permission:
      columns:
      - latitude
      - longitude
      - id
      - cities
      - code_postal
      filter: {}
  - role: prepose
    permission:
      columns:
      - latitude
      - longitude
      - id
      - cities
      - code_postal
      filter: {}
  - role: service
    permission:
      columns:
      - cities
      - code_postal
      - id
      - latitude
      - longitude
      filter: {}
  - role: ti
    permission:
      columns:
      - latitude
      - longitude
      - id
      - cities
      - code_postal
      filter: {}
- table:
    schema: public
    name: individuel_agrement_departements
  object_relationships:
  - name: departement
    using:
      foreign_key_constraint_on: departement_id
  - name: mandataire
    using:
      foreign_key_constraint_on: mandataire_id
  insert_permissions:
  - role: individuel
    permission:
      check: {}
      columns:
      - id
      - created_at
      - mandataire_id
      - agrement_id
      - departement_id
      - departement_financeur
  select_permissions:
  - role: individuel
    permission:
      columns:
      - departement_financeur
      - agrement_id
      - departement_id
      - id
      - mandataire_id
      - created_at
      filter:
        mandataire:
          user_id:
            _eq: X-Hasura-User-Id
  update_permissions:
  - role: individuel
    permission:
      columns:
      - departement_financeur
      filter:
        mandataire:
          user_id:
            _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: individuel
    permission:
      filter:
        mandataire:
          user_id:
            _eq: X-Hasura-User-Id
- table:
    schema: public
    name: individuel_agrements
  object_relationships:
  - name: mandataire
    using:
      foreign_key_constraint_on: mandataire_id
  array_relationships:
  - name: individuel_agrement_departements
    using:
      foreign_key_constraint_on:
        column: agrement_id
        table:
          schema: public
          name: individuel_agrement_departements
  select_permissions:
  - role: individuel
    permission:
      columns:
      - id
      - created_at
      - mandataire_id
      - debut_activite_avant_2009
      - annee_debut_activite
      - annee_agrement
      filter:
        mandataire:
          user_id:
            _eq: X-Hasura-User-Id
  update_permissions:
  - role: individuel
    permission:
      columns:
      - id
      - created_at
      - mandataire_id
      - debut_activite_avant_2009
      - annee_debut_activite
      - annee_agrement
      filter:
        mandataire:
          user_id:
            _eq: X-Hasura-User-Id
      check: null
- table:
    schema: public
    name: individuel_exercices
  object_relationships:
  - name: mandataire
    using:
      foreign_key_constraint_on: mandataire_id
  select_permissions:
  - role: individuel
    permission:
      columns:
      - id
      - created_at
      - mandataire_id
      - estimation_etp
      - secretariat_specialise
      - secretariat_specialise_etp
      - cumul_prepose
      - cumul_prepose_etp
      - cumul_delegue_service
      - cumul_delegue_service_etp
      filter:
        mandataire:
          user_id:
            _eq: X-Hasura-User-Id
  update_permissions:
  - role: individuel
    permission:
      columns:
      - id
      - created_at
      - mandataire_id
      - estimation_etp
      - secretariat_specialise
      - secretariat_specialise_etp
      - cumul_prepose
      - cumul_prepose_etp
      - cumul_delegue_service
      - cumul_delegue_service_etp
      filter:
        mandataire:
          user_id:
            _eq: X-Hasura-User-Id
      check: null
- table:
    schema: public
    name: individuel_formations
  object_relationships:
  - name: mandataire
    using:
      foreign_key_constraint_on: mandataire_id
  select_permissions:
  - role: individuel
    permission:
      columns:
      - id
      - created_at
      - mandataire_id
      - cnc_mjpm_annee_obtention
      - cnc_mjpm_heure_formation
      - cnc_maj_annee_obtention
      - cnc_maj_heure_formation
      - cnc_dpf_annee_obtention
      - cnc_dpf_heure_formation
      - niveau_qualification
      - niveau_qualification_secretaire_spe
      filter:
        mandataire:
          user_id:
            _eq: X-Hasura-User-Id
  update_permissions:
  - role: individuel
    permission:
      columns:
      - cnc_dpf_annee_obtention
      - cnc_dpf_heure_formation
      - cnc_maj_annee_obtention
      - cnc_maj_heure_formation
      - cnc_mjpm_annee_obtention
      - cnc_mjpm_heure_formation
      - created_at
      - id
      - mandataire_id
      - niveau_qualification
      - niveau_qualification_secretaire_spe
      filter:
        mandataire:
          user_id:
            _eq: X-Hasura-User-Id
      check: null
- table:
    schema: public
    name: magistrat
  object_relationships:
  - name: ti
    using:
      foreign_key_constraint_on: ti_id
  - name: user
    using:
      foreign_key_constraint_on: user_id
  select_permissions:
  - role: ti
    permission:
      columns:
      - id
      - user_id
      - ti_id
      filter:
        user_id:
          _eq: X-Hasura-User-Id
- table:
    schema: public
    name: mandataire_etablissements
  object_relationships:
  - name: etablissement
    using:
      foreign_key_constraint_on: etablissement_id
  - name: mandataire
    using:
      foreign_key_constraint_on: mandataire_id
  insert_permissions:
  - role: prepose
    permission:
      check:
        mandataire:
          user_id:
            _eq: X-Hasura-User-Id
      columns:
      - etablissement_id
      - id
      - mandataire_id
      - created_at
  select_permissions:
  - role: prepose
    permission:
      columns:
      - etablissement_id
      - id
      - mandataire_id
      - created_at
      filter:
        mandataire:
          user_id:
            _eq: X-Hasura-User-Id
  - role: ti
    permission:
      columns:
      - id
      - etablissement_id
      - mandataire_id
      - created_at
      filter: {}
  update_permissions:
  - role: prepose
    permission:
      columns:
      - etablissement_id
      - id
      - mandataire_id
      - created_at
      filter:
        mandataire:
          user_id:
            _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: prepose
    permission:
      filter:
        mandataire:
          user_id:
            _eq: X-Hasura-User-Id
- table:
    schema: public
    name: mandataires
  object_relationships:
  - name: departement
    using:
      foreign_key_constraint_on: department_id
  - name: user
    using:
      foreign_key_constraint_on: user_id
  array_relationships:
  - name: commentaires
    using:
      foreign_key_constraint_on:
        column: mandataire_id
        table:
          schema: public
          name: commentaires
  - name: mandataire_etablissements
    using:
      foreign_key_constraint_on:
        column: mandataire_id
        table:
          schema: public
          name: mandataire_etablissements
  - name: mesures
    using:
      foreign_key_constraint_on:
        column: mandataire_id
        table:
          schema: public
          name: mesures
  insert_permissions:
  - role: individuel
    permission:
      check: {}
      columns:
      - adresse
      - code_postal
      - created_at
      - date_mesure_update
      - department_id
      - dispo_max
      - email_send
      - etablissement
      - genre
      - id
      - latitude
      - longitude
      - mesures_en_attente
      - mesures_en_cours
      - siret
      - telephone
      - telephone_portable
      - user_id
      - ville
      - competences
  - role: prepose
    permission:
      check:
        user_id:
          _eq: X-Hasura-User-Id
      columns:
      - adresse
      - code_postal
      - created_at
      - date_mesure_update
      - dispo_max
      - email_send
      - etablissement
      - genre
      - id
      - latitude
      - longitude
      - mesures_en_attente
      - mesures_en_cours
      - siret
      - telephone
      - telephone_portable
      - user_id
      - ville
      - competences
  select_permissions:
  - role: anonymous
    permission:
      columns:
      - siret
      filter:
        siret:
          _eq: X-Hasura-Siret
      limit: 1
      allow_aggregations: true
  - role: direction
    permission:
      columns:
      - id
      - etablissement
      - code_postal
      - ville
      - telephone
      - adresse
      - mesures_en_cours
      - dispo_max
      - user_id
      - telephone_portable
      - created_at
      - date_mesure_update
      - email_send
      - genre
      - mesures_en_attente
      - competences
      filter: {}
      allow_aggregations: true
  - role: individuel
    permission:
      columns:
      - id
      - etablissement
      - code_postal
      - ville
      - telephone
      - adresse
      - mesures_en_cours
      - dispo_max
      - user_id
      - telephone_portable
      - created_at
      - date_mesure_update
      - email_send
      - genre
      - mesures_en_attente
      - competences
      - department_id
      - siret
      - latitude
      - longitude
      filter:
        user_id:
          _eq: X-Hasura-User-Id
  - role: prepose
    permission:
      columns:
      - latitude
      - longitude
      - department_id
      - dispo_max
      - id
      - mesures_en_attente
      - mesures_en_cours
      - user_id
      - competences
      - created_at
      - date_mesure_update
      - email_send
      - adresse
      - code_postal
      - etablissement
      - genre
      - siret
      - telephone
      - telephone_portable
      - ville
      filter:
        user_id:
          _eq: X-Hasura-User-Id
  - role: ti
    permission:
      columns:
      - id
      - etablissement
      - code_postal
      - ville
      - telephone
      - adresse
      - mesures_en_cours
      - dispo_max
      - user_id
      - telephone_portable
      - created_at
      - date_mesure_update
      - email_send
      - genre
      - mesures_en_attente
      - competences
      - department_id
      - siret
      - latitude
      - longitude
      filter: {}
  update_permissions:
  - role: individuel
    permission:
      columns:
      - adresse
      - code_postal
      - created_at
      - date_mesure_update
      - department_id
      - dispo_max
      - email_send
      - etablissement
      - genre
      - id
      - latitude
      - longitude
      - mesures_en_attente
      - mesures_en_cours
      - siret
      - telephone
      - telephone_portable
      - user_id
      - ville
      - competences
      filter:
        user_id:
          _eq: X-Hasura-User-Id
      check: null
  - role: prepose
    permission:
      columns:
      - adresse
      - code_postal
      - created_at
      - date_mesure_update
      - department_id
      - dispo_max
      - email_send
      - etablissement
      - genre
      - id
      - latitude
      - longitude
      - mesures_en_attente
      - mesures_en_cours
      - siret
      - telephone
      - telephone_portable
      - user_id
      - ville
      - competences
      filter:
        user_id:
          _eq: X-Hasura-User-Id
      check: null
  - role: ti
    permission:
      columns:
      - mesures_en_attente
      - mesures_en_cours
      filter: {}
      check: null
- table:
    schema: public
    name: mesures
  object_relationships:
  - name: departement
    using:
      foreign_key_constraint_on: department_id
  - name: etablissementByEtablissementId
    using:
      foreign_key_constraint_on: etablissement_id
  - name: mandataire
    using:
      foreign_key_constraint_on: mandataire_id
  - name: service
    using:
      foreign_key_constraint_on: service_id
  - name: service_antenne
    using:
      foreign_key_constraint_on: antenne_id
  - name: ti
    using:
      foreign_key_constraint_on: ti_id
  insert_permissions:
  - role: individuel
    permission:
      check:
        mandataire:
          user_id:
            _eq: X-Hasura-User-Id
      columns:
      - annee
      - antenne_id
      - cabinet
      - civilite
      - code_postal
      - created_at
      - date_ouverture
      - department_id
      - etablissement
      - etablissement_id
      - extinction
      - id
      - is_urgent
      - judgment_date
      - latitude
      - longitude
      - mandataire_id
      - numero_dossier
      - numero_rg
      - pays
      - reason_extinction
      - residence
      - service_id
      - status
      - ti_id
      - type
      - ville
  - role: prepose
    permission:
      check:
        mandataire:
          user_id:
            _eq: X-Hasura-User-Id
      columns:
      - annee
      - antenne_id
      - cabinet
      - civilite
      - code_postal
      - created_at
      - date_ouverture
      - department_id
      - etablissement
      - etablissement_id
      - extinction
      - id
      - is_urgent
      - judgment_date
      - latitude
      - longitude
      - mandataire_id
      - numero_dossier
      - numero_rg
      - pays
      - reason_extinction
      - residence
      - service_id
      - status
      - ti_id
      - type
      - ville
  - role: service
    permission:
      check:
        service_id:
          _eq: X-Hasura-Service-Id
      set:
        service_id: x-hasura-Service-Id
      columns:
      - annee
      - antenne_id
      - cabinet
      - civilite
      - code_postal
      - created_at
      - date_ouverture
      - department_id
      - etablissement
      - etablissement_id
      - extinction
      - id
      - is_urgent
      - judgment_date
      - latitude
      - longitude
      - mandataire_id
      - numero_dossier
      - numero_rg
      - pays
      - reason_extinction
      - residence
      - service_id
      - status
      - ti_id
      - type
      - ville
  - role: ti
    permission:
      check: {}
      columns:
      - annee
      - antenne_id
      - cabinet
      - civilite
      - code_postal
      - created_at
      - date_ouverture
      - department_id
      - etablissement
      - etablissement_id
      - extinction
      - id
      - is_urgent
      - judgment_date
      - mandataire_id
      - numero_dossier
      - numero_rg
      - pays
      - reason_extinction
      - residence
      - service_id
      - status
      - ti_id
      - type
      - ville
  select_permissions:
  - role: direction
    permission:
      columns:
      - annee
      - antenne_id
      - cabinet
      - civilite
      - code_postal
      - created_at
      - date_ouverture
      - department_id
      - etablissement
      - etablissement_id
      - extinction
      - id
      - is_urgent
      - judgment_date
      - latitude
      - longitude
      - mandataire_id
      - numero_dossier
      - numero_rg
      - pays
      - reason_extinction
      - residence
      - service_id
      - status
      - ti_id
      - type
      - ville
      filter: {}
      allow_aggregations: true
  - role: individuel
    permission:
      columns:
      - annee
      - antenne_id
      - cabinet
      - civilite
      - code_postal
      - created_at
      - date_ouverture
      - department_id
      - etablissement
      - etablissement_id
      - extinction
      - id
      - is_urgent
      - judgment_date
      - latitude
      - longitude
      - mandataire_id
      - numero_dossier
      - numero_rg
      - pays
      - reason_extinction
      - residence
      - service_id
      - status
      - ti_id
      - type
      - ville
      filter:
        mandataire:
          user:
            id:
              _eq: X-Hasura-User-Id
      allow_aggregations: true
  - role: prepose
    permission:
      columns:
      - annee
      - antenne_id
      - cabinet
      - civilite
      - code_postal
      - created_at
      - date_ouverture
      - department_id
      - etablissement
      - etablissement_id
      - extinction
      - id
      - is_urgent
      - judgment_date
      - latitude
      - longitude
      - mandataire_id
      - numero_dossier
      - numero_rg
      - pays
      - reason_extinction
      - residence
      - service_id
      - status
      - ti_id
      - type
      - ville
      filter:
        mandataire:
          user_id:
            _eq: X-Hasura-User-Id
      allow_aggregations: true
  - role: service
    permission:
      columns:
      - annee
      - antenne_id
      - cabinet
      - civilite
      - code_postal
      - created_at
      - date_ouverture
      - department_id
      - etablissement
      - etablissement_id
      - extinction
      - id
      - is_urgent
      - judgment_date
      - latitude
      - longitude
      - mandataire_id
      - numero_dossier
      - numero_rg
      - pays
      - reason_extinction
      - residence
      - service_id
      - status
      - ti_id
      - type
      - ville
      filter:
        service_id:
          _eq: X-Hasura-Service-Id
      allow_aggregations: true
  - role: ti
    permission:
      columns:
      - annee
      - antenne_id
      - cabinet
      - civilite
      - code_postal
      - created_at
      - date_ouverture
      - department_id
      - etablissement
      - etablissement_id
      - extinction
      - id
      - is_urgent
      - judgment_date
      - latitude
      - longitude
      - mandataire_id
      - numero_dossier
      - numero_rg
      - pays
      - reason_extinction
      - residence
      - service_id
      - status
      - ti_id
      - type
      - ville
      filter:
        ti:
          magistrats:
            user_id:
              _eq: X-Hasura-User-Id
      allow_aggregations: true
  update_permissions:
  - role: individuel
    permission:
      columns:
      - annee
      - antenne_id
      - cabinet
      - civilite
      - code_postal
      - created_at
      - date_ouverture
      - department_id
      - etablissement
      - etablissement_id
      - extinction
      - id
      - is_urgent
      - judgment_date
      - latitude
      - longitude
      - mandataire_id
      - numero_dossier
      - numero_rg
      - pays
      - reason_extinction
      - residence
      - service_id
      - status
      - ti_id
      - type
      - ville
      filter:
        mandataire:
          user:
            id:
              _eq: X-Hasura-User-Id
      check: null
  - role: prepose
    permission:
      columns:
      - annee
      - antenne_id
      - cabinet
      - civilite
      - code_postal
      - created_at
      - date_ouverture
      - department_id
      - etablissement
      - etablissement_id
      - extinction
      - id
      - is_urgent
      - judgment_date
      - latitude
      - longitude
      - mandataire_id
      - numero_dossier
      - numero_rg
      - pays
      - reason_extinction
      - residence
      - service_id
      - status
      - ti_id
      - type
      - ville
      filter:
        mandataire:
          user_id:
            _eq: X-Hasura-User-Id
      check: null
  - role: service
    permission:
      columns:
      - annee
      - antenne_id
      - cabinet
      - civilite
      - code_postal
      - created_at
      - date_ouverture
      - department_id
      - etablissement
      - etablissement_id
      - extinction
      - id
      - is_urgent
      - judgment_date
      - latitude
      - longitude
      - mandataire_id
      - numero_dossier
      - numero_rg
      - pays
      - reason_extinction
      - residence
      - service_id
      - status
      - ti_id
      - type
      - ville
      filter:
        service_id:
          _eq: X-Hasura-Service-Id
      check: null
  - role: ti
    permission:
      columns:
      - annee
      - antenne_id
      - cabinet
      - civilite
      - code_postal
      - created_at
      - date_ouverture
      - department_id
      - etablissement
      - etablissement_id
      - extinction
      - id
      - is_urgent
      - judgment_date
      - mandataire_id
      - numero_dossier
      - numero_rg
      - pays
      - reason_extinction
      - residence
      - service_id
      - status
      - ti_id
      - type
      - ville
      filter:
        ti:
          magistrats:
            user_id:
              _eq: X-Hasura-User-Id
      check: null
  delete_permissions:
  - role: individuel
    permission:
      filter:
        mandataire:
          user:
            id:
              _eq: X-Hasura-User-Id
  - role: prepose
    permission:
      filter:
        mandataire:
          user_id:
            _eq: X-Hasura-User-Id
  - role: service
    permission:
      filter:
        service_id:
          _eq: X-Hasura-Service-Id
  - role: ti
    permission:
      filter:
        ti:
          magistrats:
            user_id:
              _eq: X-Hasura-User-Id
  event_triggers:
  - name: email
    definition:
      enable_manual: false
      insert:
        columns: '*'
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook_from_env: WEB_HOOK_URL_EMAIL_RESERVATION
    headers:
    - name: HASURA_WEB_HOOK_SECRET
      value_from_env: HASURA_WEB_HOOK_SECRET
  - name: email-cancel-reservation
    definition:
      enable_manual: false
      delete:
        columns: '*'
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook_from_env: WEB_HOOK_URL_EMAIL_CANCEL_RESERVATION
    headers:
    - name: HASURA_WEB_HOOK_SECRET
      value_from_env: HASURA_WEB_HOOK_SECRET
- table:
    schema: public
    name: regions
  array_relationships:
  - name: departements
    using:
      foreign_key_constraint_on:
        column: id_region
        table:
          schema: public
          name: departements
  select_permissions:
  - role: anonymous
    permission:
      columns:
      - id
      - nom
      filter: {}
  - role: direction
    permission:
      columns:
      - id
      - nom
      filter: {}
  - role: individuel
    permission:
      columns:
      - id
      - nom
      filter: {}
  - role: prepose
    permission:
      columns:
      - id
      - nom
      filter: {}
  - role: service
    permission:
      columns:
      - id
      - nom
      filter: {}
  - role: ti
    permission:
      columns:
      - id
      - nom
      filter: {}
- table:
    schema: public
    name: role
  array_relationships:
  - name: user_roles
    using:
      foreign_key_constraint_on:
        column: role_id
        table:
          schema: public
          name: user_role
  select_permissions:
  - role: anonymous
    permission:
      columns:
      - id
      - name
      filter: {}
  - role: direction
    permission:
      columns:
      - id
      - name
      filter: {}
  - role: individuel
    permission:
      columns:
      - id
      - name
      filter: {}
  - role: prepose
    permission:
      columns:
      - id
      - name
      filter: {}
  - role: service
    permission:
      columns:
      - id
      - name
      filter: {}
  - role: ti
    permission:
      columns:
      - id
      - name
      filter: {}
- table:
    schema: public
    name: satisfaction_campaign_answers
  object_relationships:
  - name: satisfaction_campaign
    using:
      foreign_key_constraint_on: satisfaction_campaign_id
  - name: user
    using:
      foreign_key_constraint_on: user_id
  insert_permissions:
  - role: direction
    permission:
      check: {}
      columns:
      - id
      - satisfaction_campaign_id
      - user_id
      - value
      - created_at
  - role: individuel
    permission:
      check: {}
      columns:
      - id
      - satisfaction_campaign_id
      - user_id
      - value
      - created_at
  - role: prepose
    permission:
      check: {}
      columns:
      - id
      - satisfaction_campaign_id
      - user_id
      - value
      - created_at
  - role: service
    permission:
      check: {}
      columns:
      - id
      - created_at
      - satisfaction_campaign_id
      - user_id
      - value
  - role: ti
    permission:
      check: {}
      columns:
      - id
      - created_at
      - satisfaction_campaign_id
      - user_id
      - value
  select_permissions:
  - role: direction
    permission:
      columns:
      - id
      - satisfaction_campaign_id
      - user_id
      - value
      - created_at
      filter: {}
  - role: individuel
    permission:
      columns:
      - id
      - satisfaction_campaign_id
      - user_id
      - value
      - created_at
      filter: {}
  - role: prepose
    permission:
      columns:
      - id
      - satisfaction_campaign_id
      - user_id
      - value
      - created_at
      filter: {}
  - role: service
    permission:
      columns:
      - id
      - created_at
      - satisfaction_campaign_id
      - user_id
      - value
      filter: {}
  - role: ti
    permission:
      columns:
      - id
      - satisfaction_campaign_id
      - user_id
      - value
      - created_at
      filter: {}
- table:
    schema: public
    name: satisfaction_campaigns
  array_relationships:
  - name: satisfaction_campaign_answers
    using:
      foreign_key_constraint_on:
        column: satisfaction_campaign_id
        table:
          schema: public
          name: satisfaction_campaign_answers
  select_permissions:
  - role: direction
    permission:
      columns:
      - id
      - created_at
      - ended_at
      - started_at
      - name
      filter: {}
  - role: individuel
    permission:
      columns:
      - id
      - created_at
      - ended_at
      - started_at
      - name
      filter: {}
  - role: prepose
    permission:
      columns:
      - id
      - created_at
      - ended_at
      - started_at
      - name
      filter: {}
  - role: service
    permission:
      columns:
      - id
      - created_at
      - ended_at
      - started_at
      - name
      filter: {}
      allow_aggregations: true
  - role: ti
    permission:
      columns:
      - id
      - created_at
      - name
      - started_at
      - ended_at
      filter: {}
- table:
    schema: public
    name: service_antenne
  object_relationships:
  - name: service
    using:
      foreign_key_constraint_on: service_id
  array_relationships:
  - name: commentaires
    using:
      foreign_key_constraint_on:
        column: antenne_id
        table:
          schema: public
          name: commentaires
  - name: mesures
    using:
      foreign_key_constraint_on:
        column: antenne_id
        table:
          schema: public
          name: mesures
  insert_permissions:
  - role: service
    permission:
      check: {}
      columns:
      - address
      - address_city
      - address_street
      - address_zip_code
      - bak_mandataire_id
      - contact_email
      - contact_firstname
      - contact_lastname
      - contact_phone
      - created_at
      - date_mesure_update
      - id
      - latitude
      - longitude
      - mesures_awaiting
      - mesures_in_progress
      - mesures_max
      - name
      - service_id
  select_permissions:
  - role: direction
    permission:
      columns:
      - id
      - service_id
      - name
      - created_at
      - address_street
      - address_zip_code
      - address_city
      - contact_lastname
      - contact_firstname
      - contact_email
      - contact_phone
      - mesures_awaiting
      - mesures_in_progress
      - mesures_max
      - date_mesure_update
      - bak_mandataire_id
      filter: {}
      allow_aggregations: true
  - role: individuel
    permission:
      columns:
      - id
      - service_id
      - name
      - created_at
      - address_street
      - address_zip_code
      - address_city
      - contact_lastname
      - contact_firstname
      - contact_email
      - contact_phone
      - mesures_awaiting
      - mesures_in_progress
      - mesures_max
      - date_mesure_update
      - bak_mandataire_id
      - address
      - latitude
      - longitude
      filter: {}
  - role: prepose
    permission:
      columns:
      - latitude
      - longitude
      - bak_mandataire_id
      - id
      - mesures_awaiting
      - mesures_in_progress
      - mesures_max
      - service_id
      - created_at
      - date_mesure_update
      - address
      - address_city
      - address_street
      - address_zip_code
      - contact_email
      - contact_firstname
      - contact_lastname
      - contact_phone
      - name
      filter: {}
  - role: service
    permission:
      columns:
      - address
      - address_city
      - address_street
      - address_zip_code
      - bak_mandataire_id
      - contact_email
      - contact_firstname
      - contact_lastname
      - contact_phone
      - created_at
      - date_mesure_update
      - id
      - latitude
      - longitude
      - mesures_awaiting
      - mesures_in_progress
      - mesures_max
      - name
      - service_id
      filter:
        service_id:
          _eq: x-hasura-service-id
      allow_aggregations: true
  - role: ti
    permission:
      columns:
      - id
      - service_id
      - name
      - created_at
      - address_street
      - address_zip_code
      - address_city
      - contact_lastname
      - contact_firstname
      - contact_email
      - contact_phone
      - mesures_awaiting
      - mesures_in_progress
      - mesures_max
      - date_mesure_update
      - bak_mandataire_id
      filter: {}
  update_permissions:
  - role: service
    permission:
      columns:
      - address
      - address_city
      - address_street
      - address_zip_code
      - bak_mandataire_id
      - contact_email
      - contact_firstname
      - contact_lastname
      - contact_phone
      - created_at
      - date_mesure_update
      - id
      - latitude
      - longitude
      - mesures_awaiting
      - mesures_in_progress
      - mesures_max
      - name
      - service_id
      filter: {}
      check: null
  - role: ti
    permission:
      columns:
      - mesures_awaiting
      - mesures_in_progress
      filter: {}
      check: null
  delete_permissions:
  - role: service
    permission:
      filter: {}
- table:
    schema: public
    name: service_member_invitations
  object_relationships:
  - name: service
    using:
      foreign_key_constraint_on: service_id
  insert_permissions:
  - role: service
    permission:
      check:
        service_id:
          _eq: X-Hasura-Service-Id
      columns:
      - id
      - email
      - token
      - created_at
      - sent_at
      - service_id
  select_permissions:
  - role: anonymous
    permission:
      columns:
      - email
      - id
      - service_id
      - token
      filter: {}
  - role: service
    permission:
      columns:
      - id
      - service_id
      - created_at
      - sent_at
      - email
      - token
      filter:
        service_id:
          _eq: X-Hasura-Service-Id
  delete_permissions:
  - role: service
    permission:
      filter:
        service_id:
          _eq: X-Hasura-Service-Id
  event_triggers:
  - name: email-service-member-invitation
    definition:
      enable_manual: false
      insert:
        columns: '*'
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook_from_env: WEB_HOOK_URL_EMAIL_SERVICE_MEMBER_INVITATION
    headers:
    - name: HASURA_WEB_HOOK_SECRET
      value_from_env: HASURA_WEB_HOOK_SECRET
- table:
    schema: public
    name: service_members
  object_relationships:
  - name: service
    using:
      foreign_key_constraint_on: service_id
  - name: user
    using:
      foreign_key_constraint_on: user_id
  select_permissions:
  - role: service
    permission:
      columns:
      - id
      - is_admin
      - service_id
      - user_id
      filter:
        service_id:
          _eq: X-Hasura-Service-Id
  - role: ti
    permission:
      columns:
      - id
      - user_id
      - service_id
      filter: {}
  update_permissions:
  - role: service
    permission:
      columns:
      - is_admin
      filter:
        service_id:
          _eq: X-Hasura-Service-Id
      check: null
  delete_permissions:
  - role: service
    permission:
      filter:
        service_id:
          _eq: X-Hasura-Service-Id
- table:
    schema: public
    name: service_personnels
  object_relationships:
  - name: service
    using:
      foreign_key_constraint_on: service_id
  select_permissions:
  - role: service
    permission:
      columns:
      - id
      - created_at
      - service_id
      - nombre_postes_delegues_etp
      - nombre_delegues
      - nombre_poste_autre_personnel_etp
      - nombre_delegues_cnc
      - nombre_delegues_cnc_pjm
      - nombre_delegues_cnc_maj
      - nombre_delegues_cnc_dpf
      - nombre_delegues_en_formation
      - nombre_delegues_non_formes
      filter:
        service_id:
          _eq: x-hasura-service-id
  update_permissions:
  - role: service
    permission:
      columns:
      - nombre_poste_autre_personnel_etp
      - nombre_postes_delegues_etp
      - id
      - nombre_delegues
      - nombre_delegues_cnc
      - nombre_delegues_cnc_dpf
      - nombre_delegues_cnc_maj
      - nombre_delegues_cnc_pjm
      - nombre_delegues_en_formation
      - nombre_delegues_non_formes
      - service_id
      - created_at
      filter:
        service_id:
          _eq: x-hasura-service-id
      check: null
- table:
    schema: public
    name: service_tis
  object_relationships:
  - name: service
    using:
      foreign_key_constraint_on: service_id
  - name: ti
    using:
      foreign_key_constraint_on: ti_id
  select_permissions:
  - role: service
    permission:
      columns:
      - id
      - service_id
      - ti_id
      filter: {}
- table:
    schema: public
    name: services
  object_relationships:
  - name: departement
    using:
      foreign_key_constraint_on: department_id
  array_relationships:
  - name: service_antennes
    using:
      foreign_key_constraint_on:
        column: service_id
        table:
          schema: public
          name: service_antenne
  - name: service_members
    using:
      foreign_key_constraint_on:
        column: service_id
        table:
          schema: public
          name: service_members
  - name: service_personnels
    using:
      foreign_key_constraint_on:
        column: service_id
        table:
          schema: public
          name: service_personnels
  - name: service_tis
    using:
      foreign_key_constraint_on:
        column: service_id
        table:
          schema: public
          name: service_tis
  select_permissions:
  - role: anonymous
    permission:
      columns:
      - code_postal
      - etablissement
      - id
      filter: {}
  - role: direction
    permission:
      columns:
      - adresse
      - code_postal
      - created_at
      - department_id
      - dispo_max
      - email
      - etablissement
      - id
      - competences
      - mesures_awaiting
      - mesures_in_progress
      - nom
      - prenom
      - telephone
      - ville
      filter: {}
      allow_aggregations: true
  - role: service
    permission:
      columns:
      - id
      - etablissement
      - email
      - nom
      - prenom
      - code_postal
      - ville
      - telephone
      - adresse
      - dispo_max
      - created_at
      - competences
      - department_id
      - mesures_in_progress
      - mesures_awaiting
      - latitude
      - longitude
      filter:
        id:
          _eq: X-Hasura-Service-Id
  - role: ti
    permission:
      columns:
      - id
      - etablissement
      - email
      - nom
      - prenom
      - code_postal
      - ville
      - telephone
      - adresse
      - dispo_max
      - created_at
      - competences
      - department_id
      - mesures_in_progress
      - mesures_awaiting
      - latitude
      - longitude
      filter: {}
  update_permissions:
  - role: service
    permission:
      columns:
      - adresse
      - code_postal
      - department_id
      - dispo_max
      - email
      - etablissement
      - id
      - competences
      - latitude
      - longitude
      - mesures_awaiting
      - mesures_in_progress
      - nom
      - prenom
      - telephone
      - ville
      filter:
        id:
          _eq: X-Hasura-Service-Id
      check: null
  - role: ti
    permission:
      columns:
      - latitude
      - longitude
      - mesures_awaiting
      - mesures_in_progress
      filter: {}
      check: null
- table:
    schema: public
    name: tis
  array_relationships:
  - name: commentaires
    using:
      foreign_key_constraint_on:
        column: ti_id
        table:
          schema: public
          name: commentaires
  - name: magistrats
    using:
      foreign_key_constraint_on:
        column: ti_id
        table:
          schema: public
          name: magistrat
  - name: mesures
    using:
      foreign_key_constraint_on:
        column: ti_id
        table:
          schema: public
          name: mesures
  - name: service_tis
    using:
      foreign_key_constraint_on:
        column: ti_id
        table:
          schema: public
          name: service_tis
  - name: user_tis
    using:
      foreign_key_constraint_on:
        column: ti_id
        table:
          schema: public
          name: user_tis
  select_permissions:
  - role: anonymous
    permission:
      columns:
      - address
      - address2
      - code_postal
      - created_at
      - date_fermeture
      - date_modification
      - date_ouverture
      - departement_id
      - email
      - etablissement
      - id
      - immutable
      - latitude
      - longitude
      - siret
      - telephone
      - type
      - updated_at
      - ville
      filter: {}
  - role: direction
    permission:
      columns:
      - immutable
      - date_fermeture
      - date_modification
      - date_ouverture
      - latitude
      - longitude
      - departement_id
      - id
      - created_at
      - updated_at
      - address
      - address2
      - code_postal
      - email
      - etablissement
      - siret
      - telephone
      - type
      - ville
      filter: {}
  - role: individuel
    permission:
      columns:
      - immutable
      - date_fermeture
      - date_modification
      - date_ouverture
      - latitude
      - longitude
      - departement_id
      - id
      - created_at
      - updated_at
      - address
      - address2
      - code_postal
      - email
      - etablissement
      - siret
      - telephone
      - type
      - ville
      filter: {}
  - role: prepose
    permission:
      columns:
      - immutable
      - date_fermeture
      - date_modification
      - date_ouverture
      - latitude
      - longitude
      - departement_id
      - id
      - created_at
      - updated_at
      - address
      - address2
      - code_postal
      - email
      - etablissement
      - siret
      - telephone
      - type
      - ville
      filter: {}
  - role: service
    permission:
      columns:
      - immutable
      - date_fermeture
      - date_modification
      - date_ouverture
      - latitude
      - longitude
      - departement_id
      - id
      - created_at
      - updated_at
      - address
      - address2
      - code_postal
      - email
      - etablissement
      - siret
      - telephone
      - type
      - ville
      filter: {}
  - role: ti
    permission:
      columns:
      - immutable
      - date_fermeture
      - date_modification
      - date_ouverture
      - latitude
      - longitude
      - departement_id
      - id
      - created_at
      - updated_at
      - address
      - address2
      - code_postal
      - email
      - etablissement
      - siret
      - telephone
      - type
      - ville
      filter: {}
- table:
    schema: public
    name: user_role
  object_relationships:
  - name: role
    using:
      foreign_key_constraint_on: role_id
  - name: user
    using:
      foreign_key_constraint_on: user_id
  select_permissions:
  - role: direction
    permission:
      columns:
      - id
      - role_id
      - user_id
      filter:
        user_id:
          _eq: X-Hasura-User-Id
  - role: individuel
    permission:
      columns: []
      filter:
        user_id:
          _eq: X-Hasura-User-Id
  - role: prepose
    permission:
      columns:
      - id
      - role_id
      - user_id
      filter:
        user_id:
          _eq: X-Hasura-User-Id
  - role: service
    permission:
      columns:
      - id
      - role_id
      - user_id
      filter:
        user_id:
          _eq: X-Hasura-User-Id
  - role: ti
    permission:
      columns:
      - id
      - role_id
      - user_id
      filter:
        user_id:
          _eq: X-Hasura-User-Id
- table:
    schema: public
    name: user_tis
  object_relationships:
  - name: ti
    using:
      foreign_key_constraint_on: ti_id
  - name: user
    using:
      foreign_key_constraint_on: user_id
  select_permissions:
  - role: individuel
    permission:
      columns:
      - id
      - ti_id
      - user_id
      - created_at
      filter:
        user_id:
          _eq: X-Hasura-User-Id
  - role: prepose
    permission:
      columns:
      - id
      - ti_id
      - user_id
      - created_at
      filter:
        user_id:
          _eq: X-Hasura-User-Id
- table:
    schema: public
    name: users
  object_relationships:
  - name: magistrat
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: magistrat
        column_mapping:
          id: user_id
  - name: mandataire
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: mandataires
        column_mapping:
          id: user_id
  array_relationships:
  - name: service_members
    using:
      foreign_key_constraint_on:
        column: user_id
        table:
          schema: public
          name: service_members
  - name: user_roles
    using:
      foreign_key_constraint_on:
        column: user_id
        table:
          schema: public
          name: user_role
  - name: user_tis
    using:
      foreign_key_constraint_on:
        column: user_id
        table:
          schema: public
          name: user_tis
  insert_permissions:
  - role: direction
    permission:
      check: {}
      columns:
      - id
      - username
      - password
      - created_at
      - type
      - last_login
      - active
      - reset_password_token
      - reset_password_expires
      - nom
      - prenom
      - cabinet
      - email
  - role: individuel
    permission:
      check:
        id:
          _eq: X-Hasura-User-Id
      columns:
      - active
      - id
      - created_at
      - last_login
      - reset_password_expires
      - cabinet
      - email
      - nom
      - password
      - prenom
      - reset_password_token
      - type
      - username
  - role: prepose
    permission:
      check:
        id:
          _eq: X-Hasura-User-Id
      columns:
      - active
      - id
      - created_at
      - last_login
      - reset_password_expires
      - cabinet
      - email
      - nom
      - password
      - prenom
      - reset_password_token
      - type
      - username
  - role: service
    permission:
      check:
        id:
          _eq: X-Hasura-User-Id
      columns:
      - active
      - id
      - created_at
      - last_login
      - reset_password_expires
      - cabinet
      - email
      - nom
      - password
      - prenom
      - reset_password_token
      - type
      - username
  - role: ti
    permission:
      check:
        id:
          _eq: X-Hasura-User-Id
      columns:
      - active
      - id
      - created_at
      - last_login
      - reset_password_expires
      - cabinet
      - email
      - nom
      - password
      - prenom
      - reset_password_token
      - type
      - username
  select_permissions:
  - role: anonymous
    permission:
      columns:
      - active
      - email
      - type
      filter:
        email:
          _eq: X-Hasura-Email
      limit: 1
  - role: direction
    permission:
      columns:
      - active
      - id
      - created_at
      - last_login
      - reset_password_expires
      - cabinet
      - email
      - nom
      - password
      - prenom
      - reset_password_token
      - type
      - username
      filter: {}
  - role: individuel
    permission:
      columns:
      - id
      - username
      - password
      - created_at
      - type
      - last_login
      - active
      - reset_password_token
      - reset_password_expires
      - nom
      - prenom
      - cabinet
      - email
      filter:
        id:
          _eq: X-Hasura-User-Id
  - role: prepose
    permission:
      columns:
      - active
      - id
      - created_at
      - last_login
      - reset_password_expires
      - cabinet
      - email
      - nom
      - password
      - prenom
      - reset_password_token
      - type
      - username
      filter:
        id:
          _eq: X-Hasura-User-Id
  - role: service
    permission:
      columns:
      - active
      - id
      - created_at
      - last_login
      - reset_password_expires
      - cabinet
      - email
      - nom
      - password
      - prenom
      - reset_password_token
      - type
      - username
      filter:
        _or:
        - id:
            _eq: X-Hasura-User-Id
        - service_members:
            service_id:
              _eq: X-Hasura-Service-Id
  - role: ti
    permission:
      columns:
      - cabinet
      - created_at
      - email
      - id
      - last_login
      - nom
      - prenom
      - type
      - username
      filter: {}
  update_permissions:
  - role: direction
    permission:
      columns:
      - active
      - id
      - created_at
      - last_login
      - reset_password_expires
      - cabinet
      - email
      - nom
      - password
      - prenom
      - reset_password_token
      - type
      - username
      filter:
        id:
          _eq: X-Hasura-User-Id
      check: null
  - role: individuel
    permission:
      columns:
      - active
      - id
      - created_at
      - last_login
      - reset_password_expires
      - cabinet
      - email
      - nom
      - password
      - prenom
      - reset_password_token
      - type
      - username
      filter:
        id:
          _eq: X-Hasura-User-Id
      check: null
  - role: prepose
    permission:
      columns:
      - active
      - id
      - created_at
      - last_login
      - reset_password_expires
      - cabinet
      - email
      - nom
      - password
      - prenom
      - reset_password_token
      - type
      - username
      filter:
        id:
          _eq: X-Hasura-User-Id
      check: null
  - role: service
    permission:
      columns:
      - active
      - id
      - created_at
      - last_login
      - reset_password_expires
      - cabinet
      - email
      - nom
      - password
      - prenom
      - reset_password_token
      - type
      - username
      filter:
        id:
          _eq: X-Hasura-User-Id
      check: null
  - role: ti
    permission:
      columns:
      - active
      - id
      - created_at
      - last_login
      - reset_password_expires
      - cabinet
      - email
      - nom
      - password
      - prenom
      - reset_password_token
      - type
      - username
      filter:
        id:
          _eq: X-Hasura-User-Id
      check: null
  event_triggers:
  - name: email-account-validation
    definition:
      enable_manual: false
      update:
        columns:
        - active
    retry_conf:
      num_retries: 0
      interval_sec: 10
      timeout_sec: 60
    webhook_from_env: WEB_HOOK_URL_EMAIL_ACCOUNT_VALIDATION
    headers:
    - name: HASURA_WEB_HOOK_SECRET
      value_from_env: HASURA_WEB_HOOK_SECRET
- table:
    schema: public
    name: view_department_availability
  object_relationships:
  - name: department
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: departements
        column_mapping:
          department_id: id
  select_permissions:
  - role: direction
    permission:
      columns:
      - department_id
      - mesures_awaiting
      - mesures_in_progress
      - mesures_max
      filter: {}
  - role: individuel
    permission:
      columns:
      - department_id
      - mesures_awaiting
      - mesures_in_progress
      - mesures_max
      filter: {}
  - role: prepose
    permission:
      columns:
      - department_id
      - mesures_awaiting
      - mesures_in_progress
      - mesures_max
      filter: {}
  - role: service
    permission:
      columns:
      - department_id
      - mesures_awaiting
      - mesures_in_progress
      - mesures_max
      filter: {}
  - role: ti
    permission:
      columns:
      - department_id
      - mesures_awaiting
      - mesures_in_progress
      - mesures_max
      filter: {}
- table:
    schema: public
    name: view_indicateur_inscrit
  select_permissions:
  - role: anonymous
    permission:
      columns:
      - code
      - count
      - nom
      - type
      filter: {}
      allow_aggregations: true
  - role: direction
    permission:
      columns:
      - code
      - nom
      - type
      - count
      filter: {}
      allow_aggregations: true
  - role: individuel
    permission:
      columns:
      - count
      - code
      - nom
      - type
      filter: {}
      allow_aggregations: true
  - role: prepose
    permission:
      columns:
      - count
      - code
      - nom
      - type
      filter: {}
      allow_aggregations: true
  - role: service
    permission:
      columns:
      - count
      - code
      - nom
      - type
      filter: {}
      allow_aggregations: true
  - role: ti
    permission:
      columns:
      - count
      - code
      - nom
      - type
      filter: {}
      allow_aggregations: true
- table:
    schema: public
    name: view_indicateur_login
  select_permissions:
  - role: anonymous
    permission:
      columns:
      - code
      - count
      - nom
      - type
      filter: {}
      allow_aggregations: true
  - role: direction
    permission:
      columns:
      - code
      - nom
      - type
      - count
      filter: {}
      allow_aggregations: true
  - role: individuel
    permission:
      columns:
      - count
      - code
      - nom
      - type
      filter: {}
      allow_aggregations: true
  - role: prepose
    permission:
      columns:
      - count
      - code
      - nom
      - type
      filter: {}
      allow_aggregations: true
  - role: service
    permission:
      columns:
      - count
      - code
      - nom
      - type
      filter: {}
      allow_aggregations: true
  - role: ti
    permission:
      columns:
      - count
      - code
      - nom
      - type
      filter: {}
      allow_aggregations: true
- table:
    schema: public
    name: view_indicateur_satisfaction_campaign
  select_permissions:
  - role: anonymous
    permission:
      columns:
      - value
      - code
      - nom
      - type
      filter: {}
      allow_aggregations: true
  - role: direction
    permission:
      columns:
      - code
      - nom
      - type
      - value
      filter: {}
      allow_aggregations: true
  - role: individuel
    permission:
      columns:
      - value
      - code
      - nom
      - type
      filter: {}
      allow_aggregations: true
  - role: prepose
    permission:
      columns:
      - value
      - code
      - nom
      - type
      filter: {}
      allow_aggregations: true
  - role: service
    permission:
      columns:
      - value
      - code
      - nom
      - type
      filter: {}
      allow_aggregations: true
  - role: ti
    permission:
      columns:
      - value
      - code
      - nom
      - type
      filter: {}
      allow_aggregations: true
- table:
    schema: public
    name: view_mesure_gestionnaire
  object_relationships:
  - name: departement
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: departements
        column_mapping:
          department_id: id
  - name: mandataire
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: mandataires
        column_mapping:
          mandataire_id: id
  - name: service
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: services
        column_mapping:
          service_id: id
  array_relationships:
  - name: gestionnaire_tis
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: view_mesure_gestionnaire_tis
        column_mapping:
          id: id
  select_permissions:
  - role: direction
    permission:
      columns:
      - id
      - service_id
      - mandataire_id
      - discriminator
      - department_id
      - dep_nom
      - mesures_max
      - mesures_awaiting
      - mesures_in_progress
      - remaining_capacity
      filter: {}
      allow_aggregations: true
  - role: individuel
    permission:
      columns:
      - id
      - service_id
      - mandataire_id
      - discriminator
      - department_id
      - dep_nom
      - mesures_max
      - mesures_awaiting
      - mesures_in_progress
      - remaining_capacity
      filter: {}
  - role: prepose
    permission:
      columns:
      - department_id
      - mandataire_id
      - mesures_max
      - service_id
      - mesures_awaiting
      - mesures_in_progress
      - remaining_capacity
      - discriminator
      - id
      - dep_nom
      filter: {}
  - role: service
    permission:
      columns:
      - department_id
      - mandataire_id
      - mesures_max
      - service_id
      - mesures_awaiting
      - mesures_in_progress
      - remaining_capacity
      - discriminator
      - id
      - dep_nom
      filter: {}
  - role: ti
    permission:
      columns:
      - dep_nom
      - department_id
      - discriminator
      - id
      - mandataire_id
      - mesures_awaiting
      - mesures_in_progress
      - mesures_max
      - nom
      - remaining_capacity
      - service_id
      filter: {}
      allow_aggregations: true
- table:
    schema: public
    name: view_mesure_gestionnaire_tis
  object_relationships:
  - name: gestionnaire
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: view_mesure_gestionnaire
        column_mapping:
          id: id
  - name: tis
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: tis
        column_mapping:
          ti_id: id
  select_permissions:
  - role: ti
    permission:
      columns:
      - id
      - service_id
      - mandataire_id
      - discriminator
      - ti_id
      filter: {}
      allow_aggregations: true
remote_schemas:
- name: remote_schema
  definition:
    url_from_env: WHATEVER_URL
    timeout_seconds: 60
    forward_client_headers: true
actions:
- name: enquete_individuel
  definition:
    handler: '{{HASURA_WEB_HOOK_BASE_URL}}/hasura/actions/enquetes/mandataire-individuel'
    output_type: EnqueteIndividuelReponse
    forward_client_headers: true
    headers:
    - name: HASURA_WEB_HOOK_SECRET
      value_from_env: HASURA_WEB_HOOK_SECRET
    arguments:
    - name: enqueteId
      type: Int!
    - name: mandataireId
      type: Int!
    type: query
  permissions:
  - role: individuel
- name: upload_enquete_file
  definition:
    handler: '{{HASURA_WEB_HOOK_BASE_URL}}/hasura/actions/enquetes/upload'
    output_type: FileOutput
    headers:
    - name: HASURA_WEB_HOOK_SECRET
      value_from_env: HASURA_WEB_HOOK_SECRET
    arguments:
    - name: base64str
      type: String!
    - name: enqueteId
      type: Int!
    - name: userId
      type: Int
    type: mutation
    kind: synchronous
  permissions:
  - role: individuel
  - role: prepose
  - role: service
- name: upload_mesures_file
  definition:
    handler: '{{HASURA_WEB_HOOK_BASE_URL}}/hasura/actions/mesures/upload'
    output_type: FileOutput
    forward_client_headers: true
    headers:
    - name: HASURA_WEB_HOOK_SECRET
      value_from_env: HASURA_WEB_HOOK_SECRET
    arguments:
    - name: name
      type: String!
    - name: type
      type: String!
    - name: base64str
      type: String!
    - name: antennesMap
      type: String
    - name: serviceId
      type: Int
    - name: mandataireUserId
      type: Int
    type: mutation
    kind: synchronous
  permissions:
  - role: individuel
  - role: service
custom_types:
  objects:
  - name: FileOutput
    fields:
    - name: data
      type: String!
  - name: EnqueteIndividuelReponse
    fields:
    - name: enquete_id
      type: Int!
    - name: enquete_reponses_id
      type: Int!
    - name: enquete_reponses_informations_mandataire_id
      type: Int
    - name: enquete_reponses_informations_mandataire_generales_status
      type: Int!
    - name: enquete_reponses_informations_mandataire_agrements_status
      type: Int!
    - name: enquete_reponses_informations_mandataire_formation_status
      type: Int!
    - name: enquete_reponses_prestations_sociale_id
      type: Int
    - name: enquete_reponses_prestations_sociale_status
      type: Int!
    - name: enquete_reponses_agrements_formations_id
      type: Int
    - name: enquete_reponses_activite_id
      type: Int
    - name: enquete_reponses_activite_curatelle_renforcee_status
      type: Int!
    - name: enquete_reponses_activite_curatelle_simple_status
      type: Int!
    - name: enquete_reponses_activite_tutelle_status
      type: Int!
    - name: enquete_reponses_activite_accompagnement_judiciaire_status
      type: Int!
    - name: enquete_reponses_activite_curatelle_biens_status
      type: Int!
    - name: enquete_reponses_activite_curatelle_personne_status
      type: Int!
    - name: enquete_reponses_activite_revision_mesures_status
      type: Int!
    - name: enquete_reponses_populations_id
      type: Int
    - name: enquete_reponses_populations_curatelle_status
      type: Int!
    - name: enquete_reponses_populations_tutelle_status
      type: Int!
    - name: enquete_reponses_populations_accompagnement_judiciaire_status
      type: Int!
    - name: enquete_reponses_populations_sauvegarde_justice_status
      type: Int!
    - name: enquete_reponses_populations_autre_status
      type: Int!
  - name: SubmittedEnqueteReponse
    fields:
    - name: id
      type: Int!
    - name: submitted_at
      type: timestamptz!
